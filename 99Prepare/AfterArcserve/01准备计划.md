# 计划 #

0. 项目准备
   1. 自我介绍
      1. 我是谁
      2. 我有什么难得的经历
      3. 我优势是什么
         1. 我有什么优点：主要是能够对自己的一些代码，设计不妥协，有意识的重构，调整和使用一些新技术，新的思想等，使整个代码逻辑更加清晰，更加便于维护。
         2. 缺点：会出现过度设计的情况。
      4. C++有什么优缺点
         1. 优点：
            1. 性能高，由于能够直接操纵内存，因此一般而言，性能比其他语言好
            2. 基本兼容C，基本上大部分的事情都能够通过C++来实现。语言不会设置很多对程序员透明的东西。
            3. 历史悠久，各种各样的库都有。
         2. 缺点：
            1. 与其他语言相比，程序员的要求高，开发速度慢。不注意的话，会导致各种莫名其妙的问题。
            2. ABI问题，也就是升级过程中，向下兼容的问题。（同时编译器千差万别也有关系）
            3. 学习曲线可能陡峭一些，管理上的难度更大一些。需要每个公司或者每个人遵守一些开发规范。从而来规避一些问题。
      5. 能够给公司带来什么
      6. 详细：你好，我是凌海洋，目前在Arcserve公司任高级软件工程师，主要负责一个子系统：微软Office365软件的备份恢复工作。期间负责整个子系统架构设计开发工作。本人具有一定的架构设计经验，在系统设计阶段，通过业务分析，将整个系统横向分为网络数据传输层，数据库访问层，数据备份业务流程层，文件系统访问层以及子系统间的接口层，同时纵向提供日志服务，配置服务，重试机制以及错误处理等。同时我学习能力良好，整个Office365备份对于公司来说都是一个新项目，公司是做操作系统备份的公司，由于微软的Office Online业务越来越大，于是Office的备份需求也越来越多，因此，公司为了开拓这个新的备份业务，启动了这个新项目，而且所有的文档都是微软的官方英文文档，里面涉及到各种微软的接口以及API，例如Exchange邮件的WebService接口，OneDrive的RESTFUL API，同时为了兼容性，还使用了C#，Go，C++，Powershell脚本，SQLite等，最后整个系统都成功完成了。然后在业余方面，喜欢打篮球，是公司篮球俱乐部负责人。最近从同事那里知道了贵公司的招聘信息，同时我也希望能够找到一份能够长远发展，同时可以深耕的工作，因此，希望有机会能在贵公司发挥自己的光和热。
      7. Go语言优缺点
         1. 优点
            1. 跨平台，不依赖任何操作系统的库，虚拟机等。
            2. 学过C，上手也快
            3. 语言层级的标准库，和代码规范，格式化
            4. 协程并发编程比较容易上手
         2. 缺点
            1. 没有模板（泛型）
            2. 类的继承和C差异很大，最好是使用接口进行继承
            3. 
      8. C#优缺点
         1. 优点：
            1. 语法糖比较多，委托，事件，linq，lamdba，属性等等。
            2. 学过C，上手都快。
            3. 微软支持，IDE不错。
         2. 缺点
            1. 以前不跨平台，现在正在解决。
            2. 性能来说，比C差一些
            3. 开源社区，国内用的人少。
   2. OneDrive项目
      1. 最难的部分
         1. 难点有：由于微软提供的接口，必须使用MS Graph，因此需要在Azure上注册一个Application，用于调用Office365 Graph API。怎么样去注册这个Application。目前已知的就是手工注册。然后查找之后，是用脚本去注册一个Application，但是有个功能无法绕过去。
         2. 如何使用Go语言和底层C++兼容。Go build dll, 同时使用CGo。
      2. 有什么收获
         1. 学习了Go语言，一门编程效率不错的语言：基本上语言本身就提供了很多实用的库，例如json，io，net，sync库。提供了轻量级线程。以及良好的第三方库的管理
         2. 进一步熟悉了OAuth2的流程
      3. 最有意思的部分
         1. 在于Go语言的接口设计。只用实现接口的方法，不用声明继承哪个接口，就可以使用接口指针来调用。
      4. 最难解的bug
         1. 文件变更问题。如果OneDrive中的文件发生删除了，然后再恢复，无法拿到文件的变化，这个地方写了很多单元测试。因为，文件以及文件夹的变化，包括名字的变化，都会导致磁盘上的文件发生变化；这个地方由于是一个树形结构，因此就存在将一个节点移动到另外一个节点上的情况，还有删除，新增的情况，但是OneDrive给的变化列表又不是日志那种按照时间先后顺序记录所有变化的操作。因此无法按照时间变化顺序来进行磁盘文件和文件夹的修改。然而产品又要求磁盘上的文件目录和文件的组织形式和OneDrive上显示的一样。因此，最后只能采用变化过程中，用临时文件名的方式，变化处理完成后，再将名字换回来。
         2. 死锁。具体的解决办法是使用单元测试来进行测试，模拟备份过程中的流程。然后就是，将多线程需要使用的方法，封装到一个类里面，规范任务添加，线程池启动，退出的流程。
      5. 最享受的过程
         1. 最享受的过程就是使用Go写单元测试，真的很方便。而且其中的Json数据，Xml数据序列化以及反序列化十分方便。因此调用Web API后，将信息从响应到存入数据库，过程非常快，代码也比较简单，不过其中比较麻烦的就是Go没有模板（泛型）。
      6. 与团队成员的冲突
         1. 文件变更问题，其实最好的变法是，使用文件和文件夹的唯一id来作为磁盘上的文件和文件夹的名字，同时其位置是不可变的，然后数据库中来记录他们的逻辑信息，比如文件的真实名称，父子关系。不管线上怎么变，只用修改数据库即可，磁盘上的数据不用频繁修改。
   3. SharePoint项目
   4. Exchange Online项目
1. C++知识准备
   1. 智能指针
      1. auto_ptr
         1. 可以对指针进行new，delete。
         2. 最好不要使用赋值操作符。会导致错误。也不要使用Release，会将指针托管出去。从而需要手动delete
      2. scoped_ptr
         1. 解决上述问题，唯一托管指针
         2. 但真真需要将指针赋值给其他地方的时候，又无法做到。
      3. shared_ptr
         1. 可以赋值，增加了引用计数
         2. 需要不增加引用计数的时候，怎么处理。
      4. weak_ptr
         1. 作为shared_ptr的观察者，赋值后，引用计数不会增加。
   2. new/delete和malloc/free的区别
      1. 前者会调用构造析构函数，后者不会
      2. 前者是关键字，后者是函数
      3. 前者失败抛出异常，后者失败返回null
      4. 前者返回类型指针，后者返回void*
   3. struct和class区别
      1. struct默认是public，class默认是private
      2. 继承时，struct默认时public，class默认时private
      3. class，可以使用模板参数
   4. define和const区别
      1. define不做类型检查，const有类型检查
   5. const和static区别
      1. static用法：修饰全局变量，可以隐藏，修饰类成员变量，
   6. C++的优缺点
      1. 优点
         1. 古老的语言，兼容C的面向对象语言，由于可以操作内存，因此性能高。
         2. 目前的操作系统都是用C/C++编写的，因此利用C++开发，能够很好的使用操作系统提供的库等。
         3. 也正由于古老，基于C++的库也很多，基本都能满足需要。
         4. 每个人的自由度很高。
      2. 缺点
         1. 正因为可以操作内存，因此问题也多，其中问题最多的就是内存泄漏
         2. 操作系统之间的移植性是个问题。
         3. C++的库多，但是语言级别提供的库少，因此每个人都有每个人的习惯，使用的库也是百花齐放，难以维护。
         4. 开发效率低，系统维护相比较其他语言来说，更加困难一些。
         5. 需要团队指定良好的编程规范，个人的自由度很大，因此需要每个人自己更多的约束，更多的学习。
2. 操作系统知识
   1. 栈
      1. 栈是为了解决函数调用的问题，操作系统为了高效调用函数，因此特别开辟了一块空间来存储函数的参数以及函数的局部变量。
         1. 首先压入函数的参数，返回值以及ebp。
         2. 然后压入局部变量。
         3. 执行完成后，返回到ebp，取出老的ebp
         4. pop取出返回地址，就能得到下一条指令的地址。
      2. 为了解决多任务的调用问题。
      3. 使用ulimit -a能够知道线程栈的大小。
3. Go知识准备
   1. 
4. C#知识准备
5. 多线程知识准备
   1. 进程，线程，协程区别
      1. 进程是资源分配的最小单位。各个进程之间是资源独立的。
      2. 线程是系统调度的最小单位。进程内的线程之间可以共享资源，但不共享栈，
      3. 协程是用户级的线程调用，也就是没有内核态和用户太的切换，所有的操作都在内核态。
   2. 用户态和内核态切换
      1. 什么时候发生
         1. 硬件中断
         2. 系统调用
         3. 系统异常
      2. 发生了什么
         1. 堆栈切换
         2. 切换cs/rip
         3. CPU权限切换，RING3 到 RING0
   3. 上下文切换
      1. 上下文切换主要是保存切换CPU寄存器和程序计数器
      2. 按照任务分为三类
         1. 进程上下文切换
            1. 进程的运行空间分为内核空间和用户空间。
            2. **CPU的进程内的上下文切换**，系统调用。主要是用户态和内核态的切换，切换过程中CPU要先保护用户态的寄存器和程序计数器，然后切换为并进入内核态，执行完成后再切换回用户态，恢复执行。
            3. **进程调度**，进程间的切换，必须要内核态进行。比上述过程多一步：需要保存虚拟内存和栈等信息。先保存当前进程的上下文，然后加载切换进程的上下文
            4. 更详细：切换页表全局目录，切换内核态堆栈，切换CPU上下文，刷新TLB（快表），间接开销（CPUL1，L2缓存信息的重载，击穿等）
         2. 线程上下文切换
            1. 同进程内的线程上下文切换：线程自己的栈信息和寄存器信息切换，虚拟内存等进程内的资源不用切换
            2. 不同进程的线程上下文切换：同进程上下文切换
         3. 中断上下文切换
6. 面向对象知识准备
7. 云相关技术
8. 项目准备
9.  Web API开发
10. JS开发